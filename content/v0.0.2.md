# frx v0.0.2

**frx** is a collection of Go libraries designed to provide convenient encapsulations for common development tasks. It includes non-business logic code for large-scale project development, transport frameworks and standard libraries, and useful toolkits.

The project is organized into several modules, each focusing on a specific aspect of Go development:

- **ctxcache** - Context caching for HTTP requests
- **errorx** - Comprehensive error code management
- **httpx** - Enhanced HTTP client and server wrappers
- **idgen** - Distributed unique ID generation
- **logs** - Compute logging functionality
- **lang** - Go language extension utilities

## Installation

To use frx in your Go project, you can install individual modules or the entire package:

### Install the entire package

```bash
go get github.com/crazyfrankie/frx@latest
```

## ctxcache（http middleware)

It provides ctx caching for HTTP requests, and it is concurrent safe.

You should use it be your first `middleware`, such as when you using `gin`:

```go
func InitRouter() {
    srv := gin.Default()

    srv.Use(ctxcache.Init())
    // srv.Use(CORS())
    // srv.Use(Auth())
}
```

And then you can call `Store` to store KV in ctx, `Get` returns the value for corresponding key.

```go
// Store
ctxcache.Store(ctx, key, val)

// Get
data, ok := ctxcache.Get[keyTyp](ctx, key)
if !ok {
	return nil
}

return data
```

## httpx（http middleware)

The httpx module provides enhanced HTTP client and server functionality, simplifying HTTP request handling and response management.

### HTTP Client

```go
package main

import (
    "context"
    "fmt"

    "github.com/crazyfrankie/frx/httpx"
)

func main() {
    // Create request
    req := httpx.NewRequest(context.Background(),
		http.MethodGet, "https://api.example.com/users").
		AddParam("key1", "value1").
		AddParam("key2", "value2")
    
    // GET resp
    resp, err := req.Do()
    if err != nil {
        panic(err)
    }
    defer resp.Body.Close()
    
    fmt.Printf("Status: %d\n", resp.StatusCode)
}
```

## logs（logging）

The logs module provides structured logging capabilities with support for different log levels, formatters, and outputs.

### Features

- Structured logging
- Multiple log levels
- Configurable formatters
- Multiple output destinations
- Performance optimized

### Basic Usage

```go
package main

import (
    "github.com/crazyfrankie/frx/logs"
)
`
func main() {
    logs.SetlogLevel(logs.LevelInfo)
    
    // call log
    logs.Info("Application started")
    logs.Error("Something went wrong", "error", err)
    logs.Debug("Debug information", "data", debugData)
}
```